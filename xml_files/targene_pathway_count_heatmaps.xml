<tool id="pancancer_pathway_count_heatmaps" name="PanCancer pathway count heatmaps" version="@VERSION@">
    <description>pathway count heatmaps</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="stdio"/>
    <version_command><![CDATA['targene_pathway_count_heatmaps.py' --version]]></version_command>
    <command><![CDATA[
        cp -R '$scores.extra_files_path' '${output_alt_folder.extra_files_path}' 
        && 
        targene_pathway_count_heatmaps.py
        --scores '${output_alt_folder.extra_files_path}'
        #if $genes and str($genes):
        --genes '$genes'
        #end if
        #if $path_genes and str($path_genes):
        --path_genes '$path_genes'
        #end if
        @INPUTS_BASIC@
        #if $filename_copy_loss and $filename_copy_loss is not None:
        --filename_copy_loss '$filename_copy_loss'
        #end if
        #if $filename_copy_gain and $filename_copy_gain is not None:
        --filename_copy_gain '$filename_copy_gain'
        #end if
        #if $filename_cancer_gene_classification and $filename_cancer_gene_classification is not None:
        --filename_cancer_gene_classification '$filename_cancer_gene_classification'
        #end if
        &&
        @OUTPUT_ALT_FOLDER_HTML@
        ]]>
    </command>
    <inputs>
        <param argument="--scores" label="Classifier score data" name="scores" optional="false" type="data" format="papaa_within" help="Extend existing classifer"/>
        <param argument="--genes" label="Comma separated string of HUGO gene symbols" name="genes" optional="False" type="text" value="KRAS,NRAS,HRAS"/>
        <param argument="--path_genes" label="String of the pathway genes to extract" name="path_genes" optional="true" type= "data" format="txt"/>
        <expand macro="inputs_basic"/>
        <param argument="--filename_mut" label="Filename mutations" name="filename_mut" optional="true" type="data" format="tabular" help="data/pancan_mutation_freeze.tsv"/>
        <param argument="--filename_sample" label="Filename of sample" name="filename_sample" optional="true" type="data" format="tabular" help="data/sample_freeze.tsv"/>
        <param argument="--filename_copy_loss" label="File with Copy number loss" name="filename_copy_loss" optional="false" type="data" format="tabular" help="data/copy_number_loss_status.tsv"/>
        <param argument="--filename_copy_gain" label="File with Copy number gain" name="filename_copy_gain" optional="false" type="data" format="tabular" help="data/copy_number_gain_status.tsv"/>
        <param argument="--filename_cancer_gene_classification" label="File with cancer gene classification table" name="filename_cancer_gene_classification" optional="false" type="data" format="tabular" help="data/vogelstein_cancergenes.tsv"/>
    </inputs>
    <outputs>
        <expand macro="output_alt_folder_scores"/>
    </outputs>
    <help><![CDATA[

     Pancancer_Aberrant_Pathway_Activity_Analysis scripts/targene_pathway_count_heatmaps.py:

      --genes                               comma separated string of HUGO symbols for target genes or targenes_list.csv file
      --path_genes                          comma separated string of HUGO symbols for all genes in the target pathway or path_genes.txt file
      --scores                              String of the location of classifier scores/alt_folder
      --x_matrix                            Filename of features to use in model
      --filename_mut                        Filename of sample/gene mutations to use in model
      --filename_mut_burden                 Filename of sample mutation burden to use in model
      --filename_sample                     Filename of patient/samples to use in model
      --filename_copy_loss                  Filename of copy number loss
      --filename_copy_gain                  Filename of copy number gain
      --filename_cancer_gene_classification Filename of cancer gene classification table

      Output:
      - Mutation, Copy Number, and Total Heatmaps (Gene by Cancer-type).
      - Calculates Mutations and copy number percentages of the genes in the pathway and generates "pathway_mapper_percentages.txt" file. 
      - Summarizes mutation, copy, and total counts per sample by targene pathway and generates "path_events_per_sample.tsv" file

      ]]></help>
</tool>